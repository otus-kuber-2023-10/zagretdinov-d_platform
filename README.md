# zagretdinov-d_platform
zagretdinov-d Platform repository
# Homework 1
### Тема: Настройка локального окружения. Запуск окружения. Запуск первого контейнера. Работа с kubectl.

_Установка и настройка была проведена с помощью Ancible, то есть были нарезаны плэйбуки. Развернута в облаке система Ubuntu v22 с чем и работал Ancible c моей рабочей локальной машины_  

* __Установка kubectl__
Для установки написан Bash скрипт и команды размещены в install_kubectl.sh и запускает Ancible плэйбук deploy.yml  и в дальнейшем все установки проходят на удаленной машине. Тут же и настраивается автодополнение.

* __Установка Minikube__
Аналогично установки kubectl только скрипт install_minikube.sh

* __Установка Docker__
Устанавливаю докер чтоб разнообразить как то установку, задачи, команды нарезал в самом плэйбуке, уже не прибигая к дополнительным скриптам. Все таски отрабатывает плэйбук deploy.yml
    #### и в результате:



* __Запуск Minikube__
Команду sudo usermod -aG docker $USER && newgrp docker я добавил раннее 
в скрипт. Я зашел уже в саму машину и запустил minikube start --driver=docker и в результате все успешно запустилось.

   #### Проверяю:

### Задание:
Разберитесь почему все pod в namespace kube-system восстановились после удаления. Укажите причину в описании PR.

### Решение:

kubelet является службой которая занимается процессом запуска pod-ов. Если остановить то кластер не восстанавливается автоматически.

В случае восстановление кластер запускает необходимые контейнеры.

core-dns - реализован как Deployment с параметром replicas: 2. При его удалении ReplicaSet восстанавливает его работу

kube-proxy управляется и создается Daemonset.

kube-apiserver, etcd, kube-controller-manager, kube-scheduler - запускает kubelet ноды.


